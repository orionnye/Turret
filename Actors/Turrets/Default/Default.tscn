[gd_scene load_steps=16 format=3 uid="uid://hgqtjij5ji1a"]

[ext_resource type="PackedScene" uid="uid://d3usnlgmakppf" path="res://Items/Active/Gun/Gun.tscn" id="1_8oxyt"]
[ext_resource type="Material" uid="uid://c786wrb72vpw6" path="res://Materials/Metals/Metal.tres" id="1_jja0o"]
[ext_resource type="Script" path="res://Actors/Turrets/Default/Turret.cs" id="1_yyfay"]
[ext_resource type="Material" uid="uid://bb5hwfky6hw6d" path="res://Materials/Metals/Tarnished.tres" id="2_mapg7"]
[ext_resource type="Material" uid="uid://c1tevbx05cr88" path="res://Materials/Glass.tres" id="5_4iogw"]
[ext_resource type="PackedScene" uid="uid://baohtgq4giedm" path="res://UI/Menu/PropertyControl/PropertyControl.tscn" id="6_jwdre"]

[sub_resource type="BoxMesh" id="BoxMesh_tjrqj"]
size = Vector3(0.5, 0.5, 0.5)

[sub_resource type="BoxMesh" id="BoxMesh_7thmm"]
size = Vector3(0.1, 0.6, 0.6)

[sub_resource type="SphereShape3D" id="SphereShape3D_28tdv"]

[sub_resource type="SphereMesh" id="SphereMesh_akpm6"]
radial_segments = 6
rings = 6

[sub_resource type="CylinderMesh" id="CylinderMesh_g6vpc"]
height = 1.0
radial_segments = 16
rings = 1

[sub_resource type="BoxMesh" id="BoxMesh_qutll"]
size = Vector3(0.5, 0.5, 0.5)

[sub_resource type="BoxMesh" id="BoxMesh_lw8mc"]
size = Vector3(0.1, 0.6, 0.6)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_7tjso"]
radius = 0.518579

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_20lhj"]
load_path = "res://.godot/imported/Turret.png-0f921d0abf6da44ee565d7ddcea9bab9.ctex"

[node name="Default" type="Node3D" node_paths=PackedStringArray("gun", "glassDisplay") groups=["Turrets"]]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 0.1, 0)
script = ExtResource("1_yyfay")
gun = NodePath("Head/Gun")
glassDisplay = NodePath("GlassSoul/RichTextLabel")

[node name="Head" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.748976, 0)
axis_lock_linear_x = true
axis_lock_linear_y = true
axis_lock_linear_z = true
axis_lock_angular_x = true
axis_lock_angular_z = true
gravity_scale = 0.0
angular_damp = 3.0

[node name="Battery" type="MeshInstance3D" parent="Head"]
transform = Transform3D(-0.35575, 0.665512, 0.294338, -0.481622, 0.0302717, -0.650556, -0.54551, -0.460735, 0.382415, 0.209621, 0.269915, 0.263439)
material_override = ExtResource("5_4iogw")
mesh = SubResource("BoxMesh_tjrqj")
skeleton = NodePath("../../Body")

[node name="Fastener2" type="MeshInstance3D" parent="Head/Battery"]
transform = Transform3D(-0.0380054, 0.0136817, -0.999184, 0.0173533, 0.999765, 0.0130291, 0.999128, -0.0168438, -0.0382344, -0.0289652, 0.000601858, 0.0297105)
material_override = ExtResource("2_mapg7")
mesh = SubResource("BoxMesh_7thmm")

[node name="Gun" parent="Head" instance=ExtResource("1_8oxyt")]
transform = Transform3D(3.0598e-08, -0.7, -6.11959e-08, -0.7, -3.0598e-08, 0, -2.67496e-15, 6.11959e-08, -0.7, 0, 0.186, 0.01)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Head"]
shape = SubResource("SphereShape3D_28tdv")

[node name="Mesh" type="MeshInstance3D" parent="Head"]
material_override = ExtResource("2_mapg7")
mesh = SubResource("SphereMesh_akpm6")

[node name="Camera3D" type="Camera3D" parent="Head"]
transform = Transform3D(2, 0, 0, 0, 1.98562, 0.239407, 0, -0.239407, 1.98562, 0, 2.52876, 6.84919)
visible = false
current = true

[node name="Body" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.25, 0)
material_override = ExtResource("1_jja0o")
mesh = SubResource("CylinderMesh_g6vpc")

[node name="Battery2" type="MeshInstance3D" parent="Body"]
transform = Transform3D(1.27561e-09, -0.0196674, 1.91509, -1.45658, -4.29095e-08, -7.13434e-15, 6.36564e-08, -0.981458, -0.0383764, 0.134039, -0.101631, 0.41754)
material_override = ExtResource("1_jja0o")
mesh = SubResource("BoxMesh_qutll")

[node name="Fastener" type="MeshInstance3D" parent="Body/Battery2"]
transform = Transform3D(0.982113, -0.0101031, -0.110006, 0.0109282, 1.00119, 0.00725634, 0.114588, -0.00889077, 0.942149, -0.000803709, -0.0133975, 0.0139293)
material_override = ExtResource("2_mapg7")
mesh = SubResource("BoxMesh_lw8mc")

[node name="Battery3" type="MeshInstance3D" parent="Body"]
transform = Transform3D(9.52628e-05, -0.0119047, -1.37192, -0.994786, -0.0166573, -1.91602e-09, -0.0115147, 1.43897, -0.0113501, -0.231159, -0.217316, -0.169929)
material_override = ExtResource("1_jja0o")
mesh = SubResource("BoxMesh_qutll")

[node name="Fastener" type="MeshInstance3D" parent="Body/Battery3"]
transform = Transform3D(0.998855, 0.047771, 0.00276424, -0.0478504, 0.997445, 0.0530533, -0.000222955, -0.0531251, 0.998589, 0.00169532, -0.00800586, -0.0085144)
material_override = ExtResource("2_mapg7")
mesh = SubResource("BoxMesh_lw8mc")

[node name="ColorRect" parent="Body" instance=ExtResource("6_jwdre")]
anchors_preset = 1
anchor_left = 1.0
anchor_bottom = 0.0
offset_left = -385.0
offset_top = 4.0
offset_right = 381.0
offset_bottom = 1157.0
grow_horizontal = 0
grow_vertical = 1
scale = Vector2(0.5, 0.17)
ratio = 0.6985
alignment_horizontal = 2
alignment_vertical = 0

[node name="Hitbox" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Hitbox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.564119, 0)
shape = SubResource("CylinderShape3D_7tjso")

[node name="Timer" type="Timer" parent="."]
autostart = true

[node name="GlassSoul" type="HBoxContainer" parent="."]
anchors_preset = -1
anchor_right = 0.112847
anchor_bottom = 0.0987654

[node name="TextureRect" type="TextureRect" parent="GlassSoul"]
modulate = Color(1, 1, 0, 1)
layout_mode = 2
size_flags_horizontal = 3
texture = SubResource("CompressedTexture2D_20lhj")

[node name="RichTextLabel" type="RichTextLabel" parent="GlassSoul"]
layout_mode = 2
size_flags_horizontal = 3
text = "1"
metadata/_edit_use_anchors_ = true

[connection signal="body_entered" from="Hitbox" to="." method="_on_area_3d_body_entered"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
